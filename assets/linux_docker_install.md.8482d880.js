import{_ as s,o as a,c as n,O as o}from"./chunks/framework.08728be1.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"linux/docker/install.md","filePath":"linux/docker/install.md","lastUpdated":1700194465000}'),l={name:"linux/docker/install.md"},e=o(`<h2 id="centos安装docker" tabindex="-1">CentOS安装Docker <a class="header-anchor" href="#centos安装docker" aria-label="Permalink to &quot;CentOS安装Docker&quot;">​</a></h2><p><a href="https://www.runoob.com/docker/centos-docker-install.html" target="_blank" rel="noreferrer">安装Docerk参考链接</a></p><h3 id="使用-docker-仓库进行安装" tabindex="-1">使用 Docker 仓库进行安装 <a class="header-anchor" href="#使用-docker-仓库进行安装" aria-label="Permalink to &quot;使用 Docker 仓库进行安装&quot;">​</a></h3><p>在新主机上首次安装 Docker Engine-Community 之前，需要设置 Docker 仓库。之后，您可以从仓库安装和更新 Docker。</p><h4 id="设置仓库" tabindex="-1">设置仓库 <a class="header-anchor" href="#设置仓库" aria-label="Permalink to &quot;设置仓库&quot;">​</a></h4><p>安装所需的软件包。yum-utils 提供了 yum-config-manager ，并且 device mapper 存储驱动程序需要 device-mapper-persistent-data 和 lvm2。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum-utils</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">device-mapper-persistent-data</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lvm2</span></span></code></pre></div><p>使用以下命令来设置稳定的仓库。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum-config-manager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-repo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre></div><p>可以选择国内的一些源地址：</p><p>阿里云</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum-config-manager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--add-repo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span></code></pre></div><h4 id="安装-docker-engine-community" tabindex="-1">安装 Docker Engine-Community <a class="header-anchor" href="#安装-docker-engine-community" aria-label="Permalink to &quot;安装 Docker Engine-Community&quot;">​</a></h4><p>安装最新版本的 Docker Engine-Community 和 containerd，或者转到下一步安装特定版本：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-ce</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-ce-cli</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containerd.io</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-compose-plugin</span></span></code></pre></div><p>要安装特定版本的 Docker Engine-Community，请在存储库中列出可用版本，然后选择并安装：</p><p>1、列出并排序您存储库中可用的版本。此示例按版本号（从高到低）对结果进行排序。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-ce</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--showduplicates</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sort</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">docker-ce.x86_64</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">:18.09.1-3.el7</span><span style="color:#A6ACCD;">                     </span><span style="color:#C3E88D;">docker-ce-stable</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-ce.x86_64</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3</span><span style="color:#C3E88D;">:18.09.0-3.el7</span><span style="color:#A6ACCD;">                     </span><span style="color:#C3E88D;">docker-ce-stable</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-ce.x86_64</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">18.06</span><span style="color:#C3E88D;">.1.ce-3.el7</span><span style="color:#A6ACCD;">                    </span><span style="color:#C3E88D;">docker-ce-stable</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-ce.x86_64</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">18.06</span><span style="color:#C3E88D;">.0.ce-3.el7</span><span style="color:#A6ACCD;">                    </span><span style="color:#C3E88D;">docker-ce-stable</span></span></code></pre></div><p>2、通过其完整的软件包名称安装特定版本，该软件包名称是软件包名称（docker-ce）加上版本字符串（第二列），从第一个冒号（:）一直到第一个连字符，并用连字符（-）分隔。例如：docker-ce-18.09.1。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-ce-</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">VERSION_STRIN</span><span style="color:#A6ACCD;">G</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-ce-cli-</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">VERSION_STRIN</span><span style="color:#A6ACCD;">G</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">containerd.io</span></span></code></pre></div><p>启动 Docker。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span></span></code></pre></div><p>通过运行 hello-world 镜像来验证是否正确安装了 Docker Engine-Community 。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hello-world</span></span></code></pre></div><h4 id="卸载-docker" tabindex="-1">卸载 docker <a class="header-anchor" href="#卸载-docker" aria-label="Permalink to &quot;卸载 docker&quot;">​</a></h4><p>删除安装包：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docker-ce</span></span></code></pre></div><p>删除镜像、容器、配置文件等内容：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/var/lib/docker</span></span></code></pre></div>`,29),p=[e];function c(t,r,C,y,i,d){return a(),n("div",null,p)}const h=s(l,[["render",c]]);export{A as __pageData,h as default};
